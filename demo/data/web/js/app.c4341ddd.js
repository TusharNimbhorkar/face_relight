(function(e){function t(t){for(var s,l,c=t[0],r=t[1],o=t[2],d=0,h=[];d<c.length;d++)l=c[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&h.push(a[l][0]),a[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,c=1;c<i.length;c++){var r=i[c];0!==a[r]&&(s=!1)}s&&(n.splice(t--,1),e=l(l.s=i[0]))}return e}var s={},a={app:0},n=[];function l(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=s,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(i,s,function(t){return e[t]}.bind(null,s));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/media/web/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var u=r;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"main"},[i("div",{staticClass:"column"},[i("div",{staticClass:"sidebar",class:{show:e.isMenuShow}},[i("nav",{staticClass:"nav",attrs:{id:"nav"}},[i("div",{staticClass:"sm-text close-button",on:{click:function(t){e.isMenuShow=!e.isMenuShow}}},[i("i",{staticClass:"fa fa-close"}),e._v(" Close")]),i("ul",{staticClass:"nav-list"},[e._m(0),e._m(1),i("li",{staticClass:"nav-list-item divider"},[e._v("-----")]),i("li",{staticClass:"nav-list-item"},[i("label",{staticClass:"button"},[e._v("Try your image "),i("input",{ref:"file",staticClass:"hidden_input",attrs:{type:"file",accept:"image/png, image/jpeg, image/jpg"},on:{change:function(t){return e.handleFileUpload()}}})])]),i("li",{staticClass:"nav-list-item divider"},[e._v("-----")]),i("li",{staticClass:"nav-list-item"},[i("div",[i("h3",[e._v("Examples")]),i("div",{staticClass:"gallery"},e._l(e.examples,(function(t,s){return i("div",{key:s+t,staticClass:"gallery-item",on:{click:function(i){return e.selectExample(t)}}},[i("div",{staticClass:"gallery-item-image",style:{"background-image":"url(/media/output/"+t+"/ori.jpg)"}})])})),0)])])])])]),i("div",{staticClass:"content"},[i("button",{staticClass:"button sm-text menu",on:{click:function(t){e.isMenuShow=!e.isMenuShow}}},[i("i",{staticClass:"fa fa-bars"}),e._v(" Menu")]),e._m(2),i("section",{staticClass:"examples-section",attrs:{id:"examples"}},[i("div",{attrs:{id:"example-images"}},[i("div",{staticClass:"image-section with-face-relight-output"},[i("div",{staticClass:"image-wrap"},[e._l(e.getSelectedModelRange,(function(t,s){return i("img",{key:s+t,staticClass:"target-image cover",class:{hide:s!=e.selectedValue},attrs:{src:t},on:{click:function(t){return e.selectOrbit("none")}}})})),i("img",{staticClass:"target-image",attrs:{src:e.getOriginalImage}}),e.isShowingSHPreview?i("div",{staticClass:"sh-preview"},[i("div",{staticClass:"message"},[e._v('This is just a preview, click "apply" to implement the changes on all sequences')]),i("img",{staticClass:"target-image cover",attrs:{src:e.getPreviewSH}})]):e._e(),i("div",{staticClass:"image-wrap-cover",class:{show:e.isBusy}},[e._v(e._s(e.isBusy))])],2),i("div",{staticClass:"face-relight-output",staticStyle:{display:"block"}},[i("table",[i("tr",[e._m(3),i("td",{staticClass:"get-pallete"},[i("div",{staticClass:"control-wrapper"},[i("button",{staticClass:"button",class:{selected:"horizontal"==e.selectedOrbit},on:{click:function(t){return e.selectOrbit("horizontal")}}},[i("span",{staticClass:"sm-text"},[e._v("HRZ")]),i("span",{staticClass:"m-text"},[e._v("Horizontal")])]),e._v(" | "),i("button",{staticClass:"button",class:{selected:"around"==e.selectedOrbit},on:{click:function(t){return e.selectOrbit("around")}}},[e._v(" Around ")])])])]),i("tr",{style:{opacity:"none"===e.selectedOrbit?.2:1}},[e._m(4),i("td",{staticClass:"get-pallete"},[i("div",{staticClass:"control-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],staticClass:"control-slider",attrs:{type:"range",min:e.minRange,max:e.maxRange,step:"1"},domProps:{value:e.selectedValue},on:{focus:function(t){return e.resetSH()},__r:function(t){e.selectedValue=t.target.value}}})])])]),i("tr",{style:{opacity:"none"===e.selectedOrbit?.2:1}},[i("td",[e.isShowingAdvanceOption?i("h3",{staticClass:"function-title"},[e._v("Intensity")]):e._e()]),i("td",{staticClass:"get-pallete"},[i("div",{staticClass:"control-wrapper"},[i("div",{staticClass:"extra-option-button default-hidden",class:{show:!e.isShowingAdvanceOption},on:{click:e.checkForSHPreview}},[e._v(" show extra options ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.shMul,expression:"shMul"}],staticClass:"control-slider default-hidden",class:{show:e.isShowingAdvanceOption},attrs:{type:"range",min:e.minRangeSH,max:e.maxRangeSH,step:"0.1"},domProps:{value:e.shMul},on:{__r:function(t){e.shMul=t.target.value}}}),i("button",{staticClass:"button special default-hidden",class:{show:e.isShowingAdvanceOption},attrs:{disabled:!e.isShowingSHPreview},on:{click:function(t){return e.handleUpdateSHMul()}}},[e._v(" Apply ")])])])])])])])])])])])])])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"nav-list-item title"},[i("a",{staticClass:"nav-link no-hover",attrs:{href:"#"}},[e._v(" Face"),i("br"),i("span",{staticClass:"gradient"},[e._v("ReLight")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"nav-list-item"},[i("a",{staticClass:"nav-link hovered company-link",attrs:{href:"https://3duniversum.com",target:"_blank"}},[e._v("by 3duniversum")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sm-text title"},[e._v("Face "),i("span",{staticClass:"gradient"},[e._v("ReLight")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",[i("h3",{staticClass:"function-title"},[e._v("Light Orbit")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("td",[i("h3",{staticClass:"function-title"},[e._v("Direction")])])}],l=(i("99af"),i("b680"),i("bc3a")),c=i.n(l),r=i("3d20"),o=i.n(r),u="/media/output",d={horizontal:{minRange:0,maxRange:52,midRange:25},over:{minRange:0,maxRange:35,midRange:16},around:{minRange:0,maxRange:69,midRange:32},none:{minRange:0,maxRange:0,midRange:0}},h="none",p={data:function(){return{minRangeSH:.5,maxRangeSH:1,examples:["sample_grlee","sample_paris","sample_AJ","sample_a1","sample_aa","sample_Faycey","sample_kat","sample_mal","sample_maja"],selectedModel:"sample_AJ",selectedOrbit:h,selectedValue:d[h].midRange,minRange:d[h].minRange,maxRange:d[h].maxRange,isMenuShow:!1,isShowingSHPreview:!1,isBusy:!1,selectedSHMul:.7,shMul:.7,isShowingAdvanceOption:!1,timestamp:new Date}},components:{},methods:{selectOrbit:function(e){this.selectedOrbit=e,this.selectedValue=d[e].midRange,this.minRange=d[e].minRange,this.maxRange=d[e].maxRange,this.isShowingSHPreview=!1,this.isShowingAdvanceOption=!1},selectExample:function(e){this.selectedModel=e,this.selectOrbit("none"),this.isMenuShow=!1},resetSH:function(){this.isShowingSHPreview=!1,this.isShowingAdvanceOption=!1,this.isShowingSHPreview=!1,this.shMul=this.selectedSHMul},checkForSHPreview:function(){this.isShowingSHPreview||(this.isShowingSHPreview=!0,this.handleSHPreviewGeneration())},handleFileUpload:function(){var e=this,t=this.$refs.file.files[0];if(t&&!this.isBusy){this.isBusy=!0;var i=new FormData;i.append("file",t),c.a.post("/",i,{headers:{"Content-Type":"multipart/form-data"},responseType:"json"}).then((function(t){t.data.is_face_found?(e.selectExample(t.data.upload_id),e.isBusy=!1):(o.a.fire({icon:"error",title:"We could not detect a face in this picture",text:"Please upload an image with atleast on visible face"}),e.isBusy=!1)})).catch((function(t){console.log("err",t),o.a.fire({icon:"error",title:"Oops...",text:"Server is having a difficulty processing your file, please try again in a few minutes..."}),e.isBusy=!1}))}},generateImageURL:function(e){var t="".concat(u,"/").concat(this.selectedModel,"/ori.jpg"),i="over"===this.selectedOrbit?this.maxRange-e:e;return"around"===this.selectedOrbit&&(i=this.maxRange-e-16,i<0&&(i+=this.maxRange)),"none"===this.selectedOrbit?t:"".concat(u,"/").concat(this.selectedModel,"/").concat(this.selectedOrbit,"_").concat(i,"_").concat((+this.selectedSHMul).toFixed(2),".jpg")},handleUpdateSHMul:function(){var e=this;this.isBusy||(this.isBusy=!0,this.selectedSHMul=this.shMul,c.a.post("/create-sh-presets",{file_id:this.selectedModel,sh_mul:+this.selectedSHMul}).then((function(t){e.timestamp=new Date,e.isBusy=!1,e.isShowingAdvanceOption=!1,e.isShowingSHPreview=!1})).catch((function(t){console.log("err",t),o.a.fire({icon:"error",title:"Oops...",text:"Server is having a difficulty processing your file, please try again in a few minutes..."}),e.isBusy=!1})))},handleSHPreviewGeneration:function(){var e=this;this.isBusy||(this.isBusy=!0,c.a.post("/create-sh-previews",{file_id:this.selectedModel,sh_id:+this.selectedValue,preset_name:this.selectedOrbit}).then((function(t){e.timestamp=new Date,e.isBusy=!1,e.isShowingAdvanceOption=!0})).catch((function(t){console.log("err",t),o.a.fire({icon:"error",title:"Oops...",text:"Server is having a difficulty processing your request, please try again..."}),e.isBusy=!1})))}},computed:{getSelectedModelRange:function(){for(var e=new Array(this.maxRange+1),t=this.minRange;t<=this.maxRange;t++)e[t]=this.generateImageURL(t);return console.log(this.timestamp),e},getOriginalImage:function(){return"".concat(u,"/").concat(this.selectedModel,"/ori.jpg")},getPreviewSH:function(){var e="over"===this.selectedOrbit?this.maxRange-this.selectedValue:this.selectedValue;return"around"===this.selectedOrbit&&(e=this.maxRange-this.selectedValue-16,e<0&&(e+=this.maxRange)),"".concat(u,"/").concat(this.selectedModel,"/").concat(this.selectedOrbit,"_").concat(e,"_").concat((+this.shMul).toFixed(2),".jpg")}},mounted:function(){}},m=p,g=(i("5c0b"),i("2877")),v=Object(g["a"])(m,a,n,!1,null,null,null),f=v.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";var s=i("9c0c"),a=i.n(s);a.a},"9c0c":function(e,t,i){}});
//# sourceMappingURL=app.c4341ddd.js.map